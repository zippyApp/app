<app-header backButton="/auth" [showBackText]="false" title='Registro'></app-header>

<ion-content >
    <div class="d-flex-center">
        <form [formGroup]="form" class="auth-form" (ngSubmit)="submit()" (keypress.enter)="submit">
            <!--  <app-logo></app-logo>-->
            <!-- ================== Name ==================--> 
            <app-custom-input
            autocomplete="name" 
            icon="person-outline"
            [control] ="form.controls['name']"
            type="text" 
            label="Nombre y apellido" 
            ></app-custom-input>

            <div class="validators" *ngIf="form.controls['name'].errors && form.controls['name'].touched">
                <div *ngIf="form.controls['name'].errors?.['required']">El nombre es requerido</div>
                <div *ngIf="form.controls['name'].errors?.['minlength']">El nombre debe tener 4 caracteres</div>
            </div>
            <!-- ================== Type Document ==================--> 
            <ion-list color="primary">          
              <ion-item [class.invalid]="form.controls['docType'].errors && form.controls['docType'].touched">
                <ion-select formControlName="docType" interface="action-sheet" label="Tipo de documento">
                  <ion-select-option value="CC">CC</ion-select-option>
                  <ion-select-option value="CE">CE</ion-select-option>
                  <ion-select-option value="TI">TI</ion-select-option>
                  <ion-select-option value="P">P</ion-select-option>
                </ion-select>
              </ion-item>
            </ion-list>

            <div class="validators" *ngIf="form.controls['docType'].errors && form.controls['docType'].touched">
              <div *ngIf="form.controls['docType'].errors?.['required']">Debes selccionar un tipo de documento</div>
          </div>

            <!-- ================== Document ==================--> 
            <app-custom-input
            autocomplete="document" 
            icon="card-outline"
            [control] ="form.controls['document']"
            type="number" 
            label="Documento"
            maxlength="10" 
            ></app-custom-input>

            <div class="validators" *ngIf="form.controls['document'].errors && form.controls['document'].touched">
                <div *ngIf="form.controls['document'].errors?.['required']">El documento es requerido</div>
                <div *ngIf="form.controls['document'].errors?.['minlength']">El documento debe tener entre 8 y 10 números</div>
            </div>

            <!-- ================== Email ==================--> 

            <app-custom-input
            autocomplete="email" 
            icon="mail-outline"
            [control] ="form.controls['email']"
            type="email" 
            label="Correo" 
            ></app-custom-input>

            <div class="validators" *ngIf="form.controls['email'].errors && form.controls['email'].touched">
                <div *ngIf="form.controls['email'].errors?.['required']">El correo es requerido</div>
                <div *ngIf="form.controls['email'].errors?.['email']">Ingresa un correo válido</div>
            </div>

             <!-- ================== Cellphone ==================--> 
             <app-custom-input
             autocomplete="phone" 
             icon="call-outline"
             [control] ="form.controls['phone']"
             type="number" 
             label="Celular" 
             maxlength="10"
             ></app-custom-input>
 
             <div class="validators" *ngIf="form.controls['phone'].errors && form.controls['phone'].touched">
                 <div *ngIf="form.controls['phone'].errors?.['required']">El celular es requerido</div>
                 <div *ngIf="form.controls['phone'].errors?.['minlength']">El celular debe tener 10 números</div>
             </div>
            
            <!-- ================== Password ==================--> 
            <!--{{form.value.email}}--> 
            <app-custom-input 
            icon="lock-closed-outline"
            [control] ="form.controls['password']"
            type="password"
            label="Contraseña"
            ></app-custom-input>
            <!--{{form.value | json}}-->
            <div class="validators" *ngIf="form.controls['password'].errors && form.controls['password'].touched">
                <div *ngIf="form.controls['password'].errors?.['required']">La contraseña es requerida</div>
            </div>
         
            <ion-button expand="block" mode="ios" class="submit" type="submit" routerLink="/map" [disabled]="form.invalid">
              Regístrate
                <ion-icon slot="end" name="log-in-outline"></ion-icon>
            </ion-button>
        </form> 
    </div>
</ion-content>
