<app-header backButton="/auth" [showBackText]="false" title='Registro'></app-header>
<ion-menu side="end" contentId="main-content" menuId="menu-id" class="menu-hidden"></ion-menu>
<ion-content >
    <div class="d-flex-center">
        <form [formGroup]="form" class="auth-form" (ngSubmit)="submit()" (keypress.enter)="submit">
            <!--  <app-logo></app-logo>-->
 
            <!-- ================== Name ==================--> 
            <app-custom-input
            autocomplete="first_names" 
            icon="person-outline"
            [control] ="form.controls['first_names']"
            type="text" 
            label="Nombres" 
            ></app-custom-input>

            <div class="validators" *ngIf="form.controls['first_names'].errors && form.controls['first_names'].touched">
                <div *ngIf="form.controls['first_names'].errors?.['required']">Debe ingresar al menos un nombre</div>
                <div *ngIf="form.controls['first_names'].errors?.['minlength']">El nombre debe tener 4 caracteres</div>
            </div>
            <!-- ================== Last Name ==================--> 
            <app-custom-input
            autocomplete="last_names" 
            icon="person-outline"
            [control] ="form.controls['last_names']"
            type="text" 
            label="Apellidos" 
            ></app-custom-input>

            <div class="validators" *ngIf="form.controls['last_names'].errors && form.controls['last_names'].touched">
                <div *ngIf="form.controls['last_names'].errors?.['required']">Debe ingresar al menos un apellido</div>
                <div *ngIf="form.controls['last_names'].errors?.['minlength']">El apellido debe tener 4 caracteres</div>
            </div>
            <!-- ================== Type Document ==================--> 
            <ion-list color="primary">          
              <ion-item [class.invalid]="form.controls['document_type'].errors && form.controls['document_type'].touched">
                <ion-select formControlName="document_type" interface="action-sheet" label="Tipo de documento">
                  <ion-select-option value="CC">CC</ion-select-option>
                  <ion-select-option value="CE">CE</ion-select-option>
                  <ion-select-option value="TI">TI</ion-select-option>
                  <ion-select-option value="P">P</ion-select-option>
                </ion-select>
              </ion-item>
            </ion-list>

            <div class="validators" *ngIf="form.controls['document_type'].errors && form.controls['document_type'].touched">
              <div *ngIf="form.controls['document_type'].errors?.['required']">Debes selccionar un tipo de documento</div>
          </div>

            <!-- ================== Document ==================--> 
            <app-custom-input
            autocomplete="document" 
            icon="card-outline"
            [control] ="form.controls['document']"
            type="number" 
            label="Documento"
            maxlength="10" 
            ></app-custom-input>

            <div class="validators" *ngIf="form.controls['document'].errors && form.controls['document'].touched">
                <div *ngIf="form.controls['document'].errors?.['required']">El documento es requerido</div>
                <div *ngIf="form.controls['document'].errors?.['minlength']">El documento debe tener entre 8 y 10 números</div>
            </div>
            <!-- ================== occupation ==================--> 
            <app-custom-input
            autocomplete="occupation" 
            icon="bag-outline"
            [control] ="form.controls['occupation']"
            type="text" 
            label="Ocupación" 
            ></app-custom-input>

            <div class="validators" *ngIf="form.controls['occupation'].errors && form.controls['occupation'].touched">
                <div *ngIf="form.controls['occupation'].errors?.['required']">Ingrese su ocupación</div>
                <div *ngIf="form.controls['occupation'].errors?.['minlength']">Debe llenar este campo</div>
            </div>

            <!-- ================== Email ==================--> 

            <app-custom-input
            autocomplete="email" 
            icon="mail-outline"
            [control] ="form.controls['email']"
            type="email" 
            label="Correo" 
            ></app-custom-input>

            <div class="validators" *ngIf="form.controls['email'].errors && form.controls['email'].touched">
                <div *ngIf="form.controls['email'].errors?.['required']">El correo es requerido</div>
                <div *ngIf="form.controls['email'].errors?.['email']">Ingresa un correo válido</div>
            </div>

             <!-- ================== Cellphone ==================--> 
             <app-custom-input
             autocomplete="phone_number" 
             icon="call-outline"
             [control] ="form.controls['phone_number']"
             type="number" 
             label="Celular" 
             maxlength="10"
             ></app-custom-input>
 
             <div class="validators" *ngIf="form.controls['phone_number'].errors && form.controls['phone_number'].touched">
                 <div *ngIf="form.controls['phone_number'].errors?.['required']">El celular es requerido</div>
                 <div *ngIf="form.controls['phone_number'].errors?.['minlength']">El celular debe tener 10 números</div>
             </div>
            
            <!-- ================== Password ==================--> 
            <!--{{form.value.email}}--> 
            <app-custom-input 
            icon="lock-closed-outline"
            [control] ="form.controls['password']"
            type="password"
            label="Contraseña"
            ></app-custom-input>
            <!--{{form.value | json}}-->
            <div class="validators" *ngIf="form.controls['password'].errors && form.controls['password'].touched">
                <div *ngIf="form.controls['password'].errors?.['required']">La contraseña es requerida</div>
            </div>
         
            <ion-button expand="block" mode="ios" class="submit" routerLink="/reference" [disabled]="form.invalid">
              Continuar
                <ion-icon slot="end" name="arrow-forward-outline"></ion-icon>
            </ion-button>
        </form> 
    </div>
</ion-content>
